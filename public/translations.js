// Client-side translation system
const translations = {
  en: {
    "home.hero_title": "Building Wealth Beyond Borders",
    "home.hero_subtitle": "The investment climate is changing, and investors need to create financial legacies that will stand the test of time. As the largest digital currency asset manager, horizon-wealth helps investors access the ever-evolving digital economy to build their future in the present.",
    "home.get_started": "Get Started",
    "home.financial_markets": "Financial Markets",
    "home.our_services": "Our Core Services.",
    "home.real_estate": "Real estate",
    "home.real_estate_desc": "Real estate is a $217 trillion-dollar market making up almost 60% of all global wealth. It's the largest source of wealth, yet it is illiquid for 99% of the world today. In the past, you only had access to real estate if you were rich or had rich friends–meaning that most people weren't able to benefit from the passive income and capital appreciation it provides.. Today, Phemex-ventures cut out the expensive middle man and provide access for investors, by investing in shares of real estate using crypto currencies.",
    "home.mining": "Mining",
    "home.mining_desc": "Unlock the potential of cryptocurrency mining with our state-of-the-art infrastructure. We provide access to premium mining operations with optimized energy efficiency and maximum profitability. Join the digital gold rush and earn passive income through our carefully curated mining portfolios.",
    "home.stock_market": "Stock Market",
    "home.stock_market_desc": "Navigate the global financial markets with confidence through our expert-curated investment strategies. Access traditional and emerging markets with cutting-edge analytics and professional portfolio management. Build wealth through diversified stock investments tailored to your financial goals.",
    "home.crypto_market": "Crypto Market",
    "home.crypto_market_desc": "Enter the revolutionary world of digital assets with our comprehensive cryptocurrency investment platform. Access Bitcoin, Ethereum, and thousands of altcoins with advanced trading tools, secure custody solutions, and expert market analysis. Capitalize on the future of finance through strategic crypto investments.",
    "home.explore": "Explore",
    "home.ready_to_start": "Ready to Start Your Investment Journey?",
    "home.ready_description": "Join thousands of investors who have already discovered the power of diversified investment strategies. Take control of your financial future today.",
    "home.cta_button": "Get Started Now",
    "home.find_trades": "Find your trades",
    "home.testimonials": "What our clients say about us",
    "home.testimonial_1_text": "The platform has transformed my investment strategy. The real-time data and comprehensive market analysis have helped me make informed decisions that consistently outperform the market.",
    "home.testimonial_1_author": "Sarah Johnson",
    "home.testimonial_1_title": "Portfolio Manager",
    "home.testimonial_2_text": "As a day trader, I need reliable data and fast execution. This platform delivers both. The forex and stock tables give me everything I need at a glance.",
    "home.testimonial_2_author": "Michael Chen",
    "home.testimonial_2_title": "Day Trader",
    "home.testimonial_3_text": "The educational resources combined with powerful trading tools have helped me grow from a beginner to a confident investor. Highly recommended for anyone serious about trading.",
    "home.testimonial_3_author": "Emily Rodriguez",
    "home.testimonial_3_title": "Investment Analyst",
    "home.chat_with_us": "Chat with us"
  },
  es: {
    "home.hero_title": "Construyendo riqueza Sin fronteras",
    "home.hero_subtitle": "El clima de inversión está cambiando, y los inversores necesitan crear legados financieros que se mantengan en el tiempo. Como el mayor gestor de activos de monedas digitales, horizon-wealth ayuda a los inversores a acceder a la economía digital en constante evolución para construir su futuro en el presente.",
    "home.get_started": "Empezar",
    "home.financial_markets": "Mercados financieros",
    "home.our_services": "Nuestros servicios principales.",
    "home.real_estate": "Bienes raíces",
    "home.real_estate_desc": "Los bienes raíces son un mercado de $ 217 billones de dólares que representa casi el 60% de toda la riqueza mundial. Es la mayor fuente de riqueza, pero es ilíquida para el 99% del mundo hoy. En el pasado, solo tenías acceso a bienes raíces si eras rico o tenías amigos ricos, lo que significa que la mayoría de las personas no podían beneficiarse de los ingresos pasivos y la apreciación del capital. Hoy, Phemex-ventures elimina al costoso intermediario y proporciona acceso a los inversores, invirtiendo en acciones de bienes raíces usando criptomonedas.",
    "home.mining": "Minería",
    "home.mining_desc": "Desbloquea el potencial de la minería de criptomonedas con nuestra infraestructura de última generación. Proporcionamos acceso a operaciones de minería premium con eficiencia energética optimizada y máxima rentabilidad. Únete a la fiebre del oro digital y obtén ingresos pasivos a través de nuestras carteras de minería cuidadosamente seleccionadas.",
    "home.stock_market": "Mercado de valores",
    "home.stock_market_desc": "Navega los mercados financieros mundiales con confianza a través de nuestras estrategias de inversión seleccionadas por expertos. Accede a mercados tradicionales y emergentes con análisis de vanguardia y gestión profesional de cartera. Construye riqueza a través de inversiones en acciones diversificadas adaptadas a tus objetivos financieros.",
    "home.crypto_market": "Mercado de criptomonedas",
    "home.crypto_market_desc": "Entra en el mundo revolucionario de los activos digitales con nuestra plataforma integral de inversión en criptomonedas. Accede a Bitcoin, Ethereum y miles de altcoins con herramientas de negociación avanzadas, soluciones de custodia segura y análisis de mercado experto. Capitaliza el futuro de las finanzas a través de inversiones estratégicas en criptomonedas.",
    "home.explore": "Explorar",
    "home.ready_to_start": "¿Listo para comenzar tu viaje de inversión?",
    "home.ready_description": "Únete a miles de inversionistas que ya han descubierto el poder de las estrategias de inversión diversificadas. Toma el control de tu futuro financiero hoy.",
    "home.cta_button": "Empezar ahora",
    "home.find_trades": "Encuentra tus operaciones",
    "home.testimonials": "Lo que nuestros clientes dicen sobre nosotros",
    "home.testimonial_1_text": "La plataforma ha transformado mi estrategia de inversión. Los datos en tiempo real y el análisis exhaustivo del mercado me han ayudado a tomar decisiones informadas que superan consistentemente el mercado.",
    "home.testimonial_1_author": "Sarah Johnson",
    "home.testimonial_1_title": "Gestor de cartera",
    "home.testimonial_2_text": "Como operador diario, necesito datos confiables y ejecución rápida. Esta plataforma ofrece ambas. Las tablas de forex y valores me dan todo lo que necesito de un vistazo.",
    "home.testimonial_2_author": "Michael Chen",
    "home.testimonial_2_title": "Operador diario",
    "home.testimonial_3_text": "Los recursos educativos combinados con poderosas herramientas de trading me han ayudado a crecer de un principiante a un inversor seguro. Altamente recomendado para cualquiera que sea serio en el trading.",
    "home.testimonial_3_author": "Emily Rodriguez",
    "home.testimonial_3_title": "Analista de inversiones",
    "home.chat_with_us": "Chatea con nosotros"
  },
  pt: {
    "home.hero_title": "Construindo riqueza Sem fronteiras",
    "home.hero_subtitle": "O clima de investimento está mudando, e os investidores precisam criar legados financeiros que resistam ao teste do tempo. Como maior gestor de ativos de moedas digitais, a horizon-wealth ajuda os investidores a acessar a economia digital em constante evolução para construir seu futuro no presente.",
    "home.get_started": "Começar",
    "home.financial_markets": "Mercados financeiros",
    "home.our_services": "Nossos serviços principais.",
    "home.real_estate": "Imóveis",
    "home.real_estate_desc": "Imóveis são um mercado de $ 217 trilhões que representa quase 60% de toda a riqueza global. É a maior fonte de riqueza, mas é ilíquida para 99% do mundo hoje. No passado, você só tinha acesso a imóveis se fosse rico ou tivesse amigos ricos, o que significa que a maioria das pessoas não conseguia se beneficiar da renda passiva e apreciação do capital. Hoje, a Phemex-ventures elimina o intermediário caro e fornece acesso aos investidores, investindo em ações de imóveis usando criptomoedas.",
    "home.mining": "Mineração",
    "home.mining_desc": "Desbloqueie o potencial da mineração de criptomoedas com nossa infraestrutura de última geração. Fornecemos acesso a operações de mineração premium com eficiência energética otimizada e máxima lucratividade. Junte-se à corrida do ouro digital e ganhe renda passiva por meio de nossos portfólios de mineração cuidadosamente selecionados.",
    "home.stock_market": "Mercado de ações",
    "home.stock_market_desc": "Navegue nos mercados financeiros globais com confiança através de nossas estratégias de investimento selecionadas por especialistas. Acesse mercados tradicionais e emergentes com análise de ponta e gerenciamento profissional de portfólio. Construa riqueza através de investimentos em ações diversificadas adaptadas aos seus objetivos financeiros.",
    "home.crypto_market": "Mercado de criptomoedas",
    "home.crypto_market_desc": "Entre no mundo revolucionário dos ativos digitais com nossa plataforma abrangente de investimento em criptomoedas. Acesse Bitcoin, Ethereum e milhares de altcoins com ferramentas de negociação avançadas, soluções de custódia segura e análise de mercado de especialistas. Capitalize o futuro das finanças através de investimentos estratégicos em criptomoedas.",
    "home.explore": "Explorar",
    "home.ready_to_start": "Pronto para começar sua jornada de investimento?",
    "home.ready_description": "Junte-se a milhares de investidores que já descobriram o poder das estratégias de investimento diversificadas. Tome controle de seu futuro financeiro hoje.",
    "home.cta_button": "Comece agora",
    "home.find_trades": "Encontre suas negociações",
    "home.testimonials": "O que nossos clientes dizem sobre nós",
    "home.testimonial_1_text": "A plataforma transformou minha estratégia de investimento. Os dados em tempo real e a análise abrangente do mercado me ajudaram a tomar decisões informadas que consistentemente superam o mercado.",
    "home.testimonial_1_author": "Sarah Johnson",
    "home.testimonial_1_title": "Gerenciador de Portfólio",
    "home.testimonial_2_text": "Como um trader diário, preciso de dados confiáveis e execução rápida. Esta plataforma oferece ambos. As tabelas de forex e ações me dão tudo que preciso de uma olhada.",
    "home.testimonial_2_author": "Michael Chen",
    "home.testimonial_2_title": "Trader Diário",
    "home.testimonial_3_text": "Os recursos educacionais combinados com ferramentas poderosas de trading me ajudaram a crescer de iniciante para um investidor confiante. Altamente recomendado para qualquer um que seja sério em trading.",
    "home.testimonial_3_author": "Emily Rodriguez",
    "home.testimonial_3_title": "Analista de Investimentos",
    "home.chat_with_us": "Converse conosco"
  },
  pl: {
    "home.hero_title": "Budowanie bogactwa Bez granic",
    "home.hero_subtitle": "Klimat inwestycyjny się zmienia, a inwestorzy muszą tworzyć dziedzictwo finansowe, które przetrwa próbę czasu. Jako największy zarządzający cyfrowymi aktywami walut, horizon-wealth pomaga inwestorom uzyskać dostęp do stale rozwijającej się gospodarki cyfrowej, aby budować przyszłość w teraźniejszości.",
    "home.get_started": "Zacznij",
    "home.financial_markets": "Rynki finansowe",
    "home.our_services": "Nasze główne usługi.",
    "home.real_estate": "Nieruchomości",
    "home.real_estate_desc": "Nieruchomości to rynek wart $ 217 bilionów, stanowiący prawie 60% całego światowego bogactwa. To największe źródło bogactwa, ale jest niewymienialne dla 99% świata dzisiaj. W przeszłości miałeś dostęp do nieruchomości tylko wtedy, gdy byłeś bogaty lub miałeś bogatych przyjaciół, co oznacza, że większość ludzi nie mogła skorzystać z pasywnego dochodu i aprecjacji kapitału. Dziś Phemex-ventures eliminuje drogiego pośrednika i zapewnia dostęp inwestorom, inwestując w akcje nieruchomości za pomocą kryptowalut.",
    "home.mining": "Górnictwo",
    "home.mining_desc": "Odblokuj potencjał kopania kryptowalut dzięki naszej najnowocześniejszej infrastrukturze. Zapewniamy dostęp do operacji górniczych premium z zoptymalizowaną wydajnością energetyczną i maksymalną rentowością. Dołącz do cyfrowej gorączki złota i zarabiaj pasywny dochód poprzez nasze starannie wyselekcjonowane portfele górnicze.",
    "home.stock_market": "Rynek akcji",
    "home.stock_market_desc": "Poruszaj się po światowych rynkach finansowych z pewnością siebie dzięki naszym strategiom inwestycyjnym wyselekcjonowanym przez ekspertów. Uzyskaj dostęp do rynków tradycyjnych i wschodzących dzięki zaawansowanej analityce i profesjonalnemu zarządzaniu portfelem. Buduj bogactwo poprzez zdywersyfikowane inwestycje w akcje dostosowane do Twoich celów finansowych.",
    "home.crypto_market": "Rynek kryptowalut",
    "home.crypto_market_desc": "Wejdź do rewolucyjnego świata cyfrowych aktywów dzięki naszej kompleksowej platformie inwestycji w kryptowaluty. Uzyskaj dostęp do Bitcoin, Ethereum i tysięcy altcoinów dzięki zaawansowanym narzędziom handlowym, bezpiecznym rozwiązaniom w zakresie ochrony i eksperckiej analizie rynku. Kapitalizuj przyszłość finansów poprzez strategiczne inwestycje w kryptowaluty.",
    "home.explore": "Odkryj",
    "home.ready_to_start": "Gotowy do rozpoczęcia podróży inwestycyjnej?",
    "home.ready_description": "Dołącz do tysięcy inwestorów, którzy już odkryli moc zdywersyfikowanych strategii inwestycyjnych. Przejmij kontrolę nad swoją przyszłością finansową dzisiaj.",
    "home.cta_button": "Zacznij teraz",
    "home.find_trades": "Znajdź swoje transakcje",
    "home.testimonials": "Co mówią o nas nasi klienci",
    "home.testimonial_1_text": "Platforma transformowała moją strategię inwestycyjną. Dane w czasie rzeczywistym i kompleksowa analiza rynku pomogły mi podejmować świadome decyzje, które konsekwentnie przewyższają rynek.",
    "home.testimonial_1_author": "Sarah Johnson",
    "home.testimonial_1_title": "Menedżer Portfela",
    "home.testimonial_2_text": "Jako trader dziennych, potrzebuję niezawodnych danych i szybkiej egzekucji. Ta platforma dostarcza obie. Tabele forex i akcji dają mi wszystko, czego potrzebuję na pierwszy rzut oka.",
    "home.testimonial_2_author": "Michael Chen",
    "home.testimonial_2_title": "Trader Dzienny",
    "home.testimonial_3_text": "Zasoby edukacyjne w połączeniu z potężnymi narzędziami handlowymi pomogły mi rosnąć od początkującego do pewnego siebie inwestora. Wysoko rekomendowane dla każdego, kto poważnie traktuje trading.",
    "home.testimonial_3_author": "Emily Rodriguez",
    "home.testimonial_3_title": "Analityk Inwestycyjny",
    "home.chat_with_us": "Porozmawiaj z nami"
  }
};

function t(key, lang = 'en') {
  return translations[lang]?.[key] || translations.en[key] || key;
}

// Update all translatable elements when language changes
function updatePageTranslations(lang) {
  // Map of data-i18n attribute values to DOM update logic
  const elementMap = {
    // Hero section
    'hero-title': '.hero-motto',
    'hero-subtitle': '.hero-sub-motto',
    'get-started-btn': '.hero-text .btn',
    
    // Financial Markets
    'financial-markets': '.financial-markets-heading',
    
    // Services
    'services-heading': '.what-we-do-heading',
    'real-estate-title': '.realestate-text h2',
    'real-estate-desc': '.realestate-description',
    'explore-1': '.realestate-content .explore-btn',
    
    'mining-title': '.mining-text h2',
    'mining-desc': '.mining-description',
    'explore-2': '.mining-content .explore-btn',
    
    'stock-title': '.stockmarket-text h2',
    'stock-desc': '.stockmarket-description',
    'explore-3': '.stockmarket-content .explore-btn',
    
    'crypto-title': '.crypto-text h2',
    'crypto-desc': '.crypto-description',
    'explore-4': '.crypto-content .explore-btn',
    
    // CTA
    'cta-heading': '.cta-heading',
    'cta-description': '.cta-description',
    'cta-button': '.cta-btn',
    
    // Trades
    'trades-heading': '.trades-heading',
    
    // Testimonials
    'testimonials-heading': '.testimonials-heading'
  };

  // Update specific elements by class
  const updates = {
    '.hero-motto': t('home.hero_title', lang),
    '.hero-sub-motto': t('home.hero_subtitle', lang),
    '.financial-markets-heading': t('home.financial_markets', lang),
    '.what-we-do-heading': t('home.our_services', lang),
    '.realestate-text h2': t('home.real_estate', lang),
    '.realestate-description': t('home.real_estate_desc', lang),
    '.mining-text h2': t('home.mining', lang),
    '.mining-description': t('home.mining_desc', lang),
    '.stockmarket-text h2': t('home.stock_market', lang),
    '.stockmarket-description': t('home.stock_market_desc', lang),
    '.crypto-text h2': t('home.crypto_market', lang),
    '.crypto-description': t('home.crypto_market_desc', lang),
    '.cta-heading': t('home.ready_to_start', lang),
    '.cta-description': t('home.ready_description', lang),
    '.cta-btn': t('home.cta_button', lang),
    '.trades-heading': t('home.find_trades', lang),
    '.testimonials-heading': t('home.testimonials', lang)
  };

  // Update text content for all mapped selectors
  Object.entries(updates).forEach(([selector, text]) => {
    const elements = document.querySelectorAll(selector);
    elements.forEach(el => {
      el.textContent = text;
    });
  });

  // Update explore buttons
  const exploreButtons = document.querySelectorAll('.explore-btn');
  exploreButtons.forEach(btn => {
    btn.textContent = t('home.explore', lang);
  });

  // Update testimonials
  const testimonials = [
    {
      textSelector: '.testimonial-card:nth-child(1) .testimonial-text',
      authorSelector: '.testimonial-card:nth-child(1) .author-name',
      titleSelector: '.testimonial-card:nth-child(1) .author-title',
      textKey: 'home.testimonial_1_text',
      authorKey: 'home.testimonial_1_author',
      titleKey: 'home.testimonial_1_title'
    },
    {
      textSelector: '.testimonial-card:nth-child(2) .testimonial-text',
      authorSelector: '.testimonial-card:nth-child(2) .author-name',
      titleSelector: '.testimonial-card:nth-child(2) .author-title',
      textKey: 'home.testimonial_2_text',
      authorKey: 'home.testimonial_2_author',
      titleKey: 'home.testimonial_2_title'
    },
    {
      textSelector: '.testimonial-card:nth-child(3) .testimonial-text',
      authorSelector: '.testimonial-card:nth-child(3) .author-name',
      titleSelector: '.testimonial-card:nth-child(3) .author-title',
      textKey: 'home.testimonial_3_text',
      authorKey: 'home.testimonial_3_author',
      titleKey: 'home.testimonial_3_title'
    }
  ];

  testimonials.forEach(testimonial => {
    const textEl = document.querySelector(testimonial.textSelector);
    const authorEl = document.querySelector(testimonial.authorSelector);
    const titleEl = document.querySelector(testimonial.titleSelector);

    if (textEl) textEl.textContent = `"${t(testimonial.textKey, lang)}"`;
    if (authorEl) authorEl.textContent = t(testimonial.authorKey, lang);
    if (titleEl) titleEl.textContent = t(testimonial.titleKey, lang);
  });

  // Update chat with us button
  const chatBtn = document.querySelector('.floating-chat-btn span');
  if (chatBtn) chatBtn.textContent = t('home.chat_with_us', lang);

  // Update HTML lang attribute
  document.documentElement.lang = lang;
}

// Listen for language changes
window.addEventListener('languageChange', (e) => {
  const lang = e.detail.language;
  updatePageTranslations(lang);
});

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
  const savedLang = localStorage.getItem('selectedLanguage') || 'en';
  // Only update if not English (since pages are built in English)
  if (savedLang !== 'en') {
    updatePageTranslations(savedLang);
  }
});
